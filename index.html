<!DOCTYPE html>
<html>
<head>
    <title>檔案上傳範例</title>
    <meta charset="utf-8">

</head>
<body>

<h2>檔案上傳表單</h2>

<!-- 將檔案送到 upload.php 的檔案進行處理 -->
<!-- 表單利用 form 的標籤-->
<!-- <form action="upload.php" method="post" enctype="multipart/form-data">
    <label for="file">選擇檔案：</label>
    <input type="file" name="file" id="file">
    <input type="submit" name="submit" value="上傳">
</form> -->

    <form action="upload.php" method="post" enctype="multipart/form-data" name="upload" onsubmit="return checkFile()">
            <label for="file">檔案:</label>
            <input type="file" name="file" id="file">
            <input type="submit" name="submit" value="提交">
        </form>
    
    

<script type="text/javascript">
        function checkFile() {
            var file = document.getElementsByName('file')[0].value;
            if (file == null || file == "") {
                alert("尚未選擇檔案，無法進行上傳");
                return false;
            }
            var allow_ext = ".jpg|.jpeg|.png|.gif|.bmp|";
            var ext_name = file.substring(file.lastIndexOf("."));
            //判別是否能上傳
            if (allow_ext.indexOf(ext_name + "|") == -1) {
                var errMsg = "該檔案禁止上傳，請上傳" + allow_ext + "類型的檔案，\n目前檔案類型為" + ext_name;
                alert(errMsg);
                return false;
            }
        }
        </script>
    

</body>
</html>
